# ===============================================
# Blaze Gallery Configuration Template
# ===============================================
#
# This file contains all the required and optional environment variables
# for configuring your Blaze Gallery application.
#
# Copy this file to .env and fill in your actual values:
#   cp .env.template .env
#
# IMPORTANT: Keep your .env file secure and never commit it to version control!

# ===============================================
# BACKBLAZE B2 CONFIGURATION (Required)
# ===============================================
#
# Your Backblaze B2 bucket configuration for photo storage.
# The application only requires READ access to your bucket for security.
#
# Get these values from your Backblaze B2 console:
# 1. Go to https://secure.backblaze.com/b2_buckets.htm
# 2. Create an Application Key with READ-ONLY access to your photo bucket
# 3. Note your endpoint URL (varies by region)

# Your Backblaze B2 S3-compatible endpoint URL
# Examples:
#   US West: https://s3.us-west-004.backblazeb2.com
#   EU: https://s3.eu-central-003.backblazeb2.com
BACKBLAZE_ENDPOINT=https://s3.us-west-004.backblazeb2.com

# Your Backblaze B2 bucket name where your photos are stored
BACKBLAZE_BUCKET=your-photo-bucket-name

# Your Backblaze B2 Application Key ID (NOT your Master Application Key!)
# Create a restricted key with READ-ONLY access for security
BACKBLAZE_ACCESS_KEY=your_application_key_id_here

# Your Backblaze B2 Application Key Secret
BACKBLAZE_SECRET_KEY=your_application_key_secret_here

# ===============================================
# APPLICATION CONFIGURATION (Optional)
# ===============================================
#
# These settings control thumbnail management and sync behavior.
# The defaults should work for most users.

# How many days to keep thumbnail files before cleanup (default: 30)
# Older thumbnails will be automatically deleted to save disk space
THUMBNAIL_MAX_AGE_DAYS=30

# How often to automatically sync with Backblaze in hours (default: 24)
# Set to 0 to disable automatic sync (manual sync only)
SYNC_INTERVAL_HOURS=24

# ===============================================
# ON-DEMAND PROCESSING THRESHOLDS (Optional)
# ===============================================
#
# Control automatic processing based on file size to optimize performance
# for large photo collections. Large files (>30MB) require explicit user action.

# Maximum file size in MB for automatic metadata extraction (default: 5)
# Photos larger than this will have metadata extracted only when explicitly viewed
AUTO_METADATA_THRESHOLD_MB=5

# Maximum file size in MB for automatic thumbnail generation (default: 10)
# Photos larger than this will have thumbnails generated only when explicitly requested
AUTO_THUMBNAIL_THRESHOLD_MB=10

# ===============================================
# SYNC THROTTLING CONFIGURATION (Optional)
# ===============================================
#
# Control how often the same folder can be synced to prevent duplicate requests

# Minimum seconds between sync requests for the same folder (default: 30)
# Prevents duplicate sync operations when rapidly navigating folders
SYNC_THROTTLE_SECONDS=30

# ===============================================
# LOGGING CONFIGURATION (Optional)
# ===============================================
#
# Control how much detail is logged by the application.
# Useful for troubleshooting Backblaze connectivity issues.

# Log level: DEBUG, INFO, WARN, ERROR (default: INFO)
# Use DEBUG for detailed Backblaze connection troubleshooting
LOG_LEVEL=INFO

# ===============================================
# AUTHENTICATION (Optional - For Production)
# ===============================================
#
# IMPORTANT: This is completely OPTIONAL for local development!
# The app works perfectly without any authentication configured.
# Only set this if you want to secure your API endpoints.

# Optional: API key for endpoint access
# Leave commented for local development (no authentication)
# API_KEY=your_secure_random_api_key_here

# ===============================================
# DEPLOYMENT CONFIGURATION (Optional)
# ===============================================
#
# These settings control how the application behaves in different environments.

# Base URL for the application (used for social media cards, emails, etc.)
# Leave as localhost for development, set to your domain for production
# Examples:
#   Development: http://localhost:3000
#   Production: https://gallery.yourdomain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Custom paths (usually auto-detected)
# DATABASE_PATH=/app/data/database/gallery.db
# THUMBNAILS_PATH=/app/data/thumbnails

# Disable Next.js telemetry (recommended)
NEXT_TELEMETRY_DISABLED=1

# ===============================================
# SETUP INSTRUCTIONS
# ===============================================
#
# 1. Copy this file to .env:
#    cp .env.template .env
#
# 2. Edit .env and fill in your Backblaze B2 credentials
#
# 3. Start Blaze Gallery:
#    docker-compose up -d
#
# 4. Visit http://localhost:3000 in your browser
#
# 5. Click "Sync" to scan your Backblaze bucket for photos
#
# ===============================================
# SECURITY NOTES
# ===============================================
#
# FOR LOCAL DEVELOPMENT:
# - No authentication required - app works without API keys
# - Use READ-ONLY Backblaze keys for maximum security
# - Never commit your .env file to version control
# - The application only reads from your bucket, never modifies
# - Local thumbnails are generated for fast viewing
# - Original photos remain safely in Backblaze B2
#
# FOR PRODUCTION DEPLOYMENT:
# - Uncomment and set API_KEY above for basic endpoint protection
# - Use a long, random key (32+ characters)
# - Consider using proper OAuth2/JWT for web-facing deployments
#
# For troubleshooting, set LOG_LEVEL=DEBUG to see detailed
# connection logs for Backblaze B2 operations.
#
# ===============================================